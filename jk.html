
<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8">
<title>テスト</title>
</head>
<body>
<h3>じゃんけん</h3>
<hr>
<table border="0" align="center">
<tr>
  <th width="200" height="200"><div id="ahand"></div></th>
  <th>VS</th>
  <th width="200" height="200"><div id="bhand"></div></th>
</tr>
<tr>

  <th>相手</th>
  <td>&nbsp;</td>
  <th>自分</th>
</tr>
<tr>
  <th colspan="3">&nbsp;</th>
</tr>
<tr>
  <th colspan="3"><form name="janken">
  <table border="0" align="center">
    <tr>
      <td colspan="3">なにをだそうかの</td>
    </tr>
    <tr>
      <th><input type="button" onClick="getbhand(0)" value="グー"></th>
      <th><input type="button" onClick="getbhand(1)" value="チョキ"></th>
      <th><input type="button" onClick="getbhand(2)" value="パー"></th>
    </tr>
    <tr>
      <th colspan="3"><input name="button2" type="button" onClick="handreset()" value="リセット"></th>
    </tr>
  </table>
  </form></th>
  </tr>
</table>


<script type="text/javascript">

hand = new Array("gu.png","ch.png","pa.png")
timer = 0;
count = 0;
count = Math.floor(Math.random() * 3);

getahand();


function getahand() {
  //手を順番に表示
  document.getElementById("ahand").innerHTML = "<img src='" + hand[count] + "'>"; 
  document.getElementById("bhand").innerHTML = "<img src='" + hand[count] + "'>"; 
  count++;
  if (count > 2) count = 0;
  timer = setTimeout("getahand()",100);
}

function getbhand(btn){
    clearTimeout(timer);

    r = Math.floor(Math.random()*3);

    document.getElementById("ahand").innerHTML = "<img src='" + hand[r] + "'>";
    document.getElementById("bhand").innerHTML = "<img src='" + hand[btn] + "'>";

  //ボタンを使えなくする
  document.janken.elements[0].disabled = true;
  document.janken.elements[1].disabled = true;
  document.janken.elements[2].disabled = true;
  //リセットボタンを元に戻す
  document.janken.elements[3].disabled = false;
}

function handreset(){

  document.janken.elements[1].disabled = false;
  document.janken.elements[2].disabled = false;
  document.janken.elements[0].disabled = false;
    getahand();
}



</script>


</body>
</body>
</html>
